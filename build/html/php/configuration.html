

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration &mdash; Stormpath PHP Documentation  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Stormpath PHP Documentation  documentation" href="index.html"/>
        <link rel="next" title="Stormpath Error Codes" href="errors.html"/>
        <link rel="prev" title="REST API Reference" href="reference.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  
  <script src="https://cdn.optimizely.com/js/225847041.js"></script>

  
  <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '986262161469311');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=986262161469311&ev=PageView&noscript=1"
  /></noscript>
</head>

<body class="wy-body-for-nav" role="document">

  
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NQZZFW');</script>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  

          
            <a href="index.html" class="icon icon-home"> Stormpath PHP Documentation
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

  <div class="langpicker-container">
    <a href="#langpicker" class="langpicker-link">
      <i class="fa fa-code"></i>
      Switch Language
    </a>
    <div id="langpicker" style="display:none;">
      <div class="">
        <a href="/csharp/product-guide/latest/configuration.html">C#</a>
      </div>
      <div class="">
        <a href="/java/product-guide/latest/configuration.html">Java</a>
      </div>
      <div class="">
        <a href="/nodejs/product-guide/latest/configuration.html">Node.js</a>
      </div>
      <div class="current">
        <a href="/php/product-guide/latest/configuration.html">PHP</a>
      </div>
      <div class="">
        <a href="/python/product-guide/latest/configuration.html">Python</a>
      </div>
      <div class="">
        <a href="/rest/product-guide/latest/configuration.html">REST</a>
      </div>
      <div class="">
        <a href="/ruby/product-guide/latest/configuration.html">Ruby</a>
      </div>
      <div class="">
        <a href="/vbnet/product-guide/latest/configuration.html">Visual Basic</a>
      </div>
    </div>
  </div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-stormpath">1.1. What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#the-stormpath-data-model">1.2. The Stormpath Data Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">2. Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#sign-up-for-stormpath">2.1 Sign-up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#create-an-api-key-pair">2.2 Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#installing-the-sdk">2.3 Installing the SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#retrieve-your-application">2.4. Retrieve Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#create-a-user-account">2.5. Create a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#authenticate-a-user-account">2.6. Authenticate a User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#next-steps">2.7. Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accnt_mgmt.html">3. Account Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#modeling-your-user-base">3.1. Modeling Your User Base</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#how-to-store-accounts-in-stormpath">3.2. How to Store Accounts in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#how-to-search-accounts">3.3. How to Search Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#how-to-manage-an-account-s-password">3.4. How to Manage an Account&#8217;s Password</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#how-to-manage-an-account-s-required-attributes">3.5. How to Manage an Account&#8217;s Required Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#how-to-verify-an-account-s-email">3.6. How to Verify an Account&#8217;s Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#customizing-stormpath-emails">3.7. Customizing Stormpath Emails</a></li>
<li class="toctree-l2"><a class="reference internal" href="accnt_mgmt.html#account-linking">3.8. Account Linking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auth_n.html">4. Authenticating Accounts with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#how-password-authentication-works-in-stormpath">4.1. How Password Authentication Works in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#how-token-based-authentication-works">4.2. How Token-Based Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#how-social-authentication-works">4.3. How Social Authentication Works</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#authenticating-against-an-ldap-directory">4.4. Authenticating Against an LDAP Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#authenticating-against-a-saml-directory">4.5. Authenticating Against a SAML Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#using-multi-factor-authentication">4.6. Using Multi-Factor Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_n.html#how-api-key-authentication-works-in-stormpath">4.7. How API Key Authentication Works in Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="auth_z.html">5. Authorization With Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="auth_z.html#what-is-authorization">5.1. What is Authorization?</a></li>
<li class="toctree-l2"><a class="reference internal" href="auth_z.html#modeling-authorization-in-stormpath">5.2. Modeling Authorization in Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="multitenancy.html">6. Multi-Tenancy with Stormpath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="multitenancy.html#what-is-a-multi-tenant-application">6.1. What Is a Multi-Tenant Application?</a></li>
<li class="toctree-l2"><a class="reference internal" href="multitenancy.html#modeling-tenants-in-stormpath">6.2. Modeling Tenants in Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="multitenancy.html#authenticating-an-account-against-an-organization">6.3. Authenticating an Account against an Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="multitenancy.html#routing-users-to-their-tenant">6.4 Routing Users to their Tenant</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="idsite.html">7. Using ID Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#what-is-an-id-site">7.1. What is an ID Site?</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#how-does-id-site-work">7.2. How does ID Site Work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#idsite-set-up">7.3. ID Site Set Up</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#using-id-site-via-language">7.4. Using ID Site Via PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#using-id-site-for-multi-tenancy">7.5. Using ID Site for Multi-tenancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#idsite-sso">7.6. ID Site &amp; Single Sign-On</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#idsite-hosting">7.7. ID Site Hosting Guide</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#required-api-credentials">1. Required API Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-caching">2. Setting Up Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-a-different-environment">3. Using a Different Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-sources">4. Configuration Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-reference">5. Configuration Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Stormpath Error Codes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="errors.html#x-communication">110X: Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-billing-payment">19XX: Billing / Payment</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-general-validation">2XXX: General Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-custom-data">3XXX: Custom Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#x-tenant">400X: Tenant</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-organization">4XXX: Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-application">5XXX: Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-directory">6XXX: Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-account">7XXX: Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-agent">9XXX: Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-oauth-errors">100XX: OAuth Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-saml-errors">101XX: SAML Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-token-errors">110XX: Token Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-id-site-jwt">120XX: ID Site JWT</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xx-smtp-server">130XX: SMTP Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="errors.html#xxx-multi-factor-authentication">13XXX: Multi-Factor Authentication</a></li>
</ul>
</li>
</ul>

            
          

  

  
    <li class="toctree-l1">
      <a class="reference internal" href="/php/apidocs/">PHP API Reference</a>
    </li>
  


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Stormpath PHP Documentation</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuration">
<span id="id1"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>There are several options you can use to customize the behavior of the SDK. For example, you can set the API Key and Secret used to connect to the Stormpath API, or change the default caching behavior.</p>
<p>There are a few ways you can set these configuration options (see <a class="reference internal" href="#config-sources"><span class="std std-ref">Configuration Sources</span></a>):</p>
<ul class="simple">
<li>Environment variables</li>
<li>Markup file (YAML or JSON)</li>
<li>API credentials file (for API Key ID/Secret only)</li>
<li>Inline options in code (supplied to the SDK constructor)</li>
</ul>
<p>The Stormpath API Key and Secret must be set to initialize the SDK (detailed in the next section). In most cases, you won&#8217;t have to change any other options, as the SDK will fall back to sensible defaults.</p>
<div class="section" id="required-api-credentials">
<span id="required-credentials"></span><h2>1. Required API Credentials<a class="headerlink" href="#required-api-credentials" title="Permalink to this headline">¶</a></h2>
<p>At the very least, these configuration options <strong>must</strong> be set in order to initialize the Stormpath SDK:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">stormpath.client.apiKey.id</span></code> (the Stormpath API Key ID)</li>
<li><code class="docutils literal"><span class="pre">stormpath.client.apiKey.secret</span></code> (the Stormpath API Key Secret)</li>
</ul>
<p>If these values aren&#8217;t set, the Stormpath SDK will throw an error. See <a class="reference internal" href="#api-keys"><span class="std std-ref">API Credentials</span></a> in the Configuration Reference for examples of how to set these values.</p>
</div>
<div class="section" id="setting-up-caching">
<span id="set-up-caching"></span><h2>2. Setting Up Caching<a class="headerlink" href="#setting-up-caching" title="Permalink to this headline">¶</a></h2>
<p>The Stormpath SDK comes with a robust caching layer built-in. Reads and writes against the Stormpath API are cached locally to improve the performance of your application.</p>
<p>Stormpath Resources are cached in regions that correspond to the resource type. For example, Stormpath Account resources are cached in a region specific to Accounts.</p>
<p>You can customize the cache item time-to-live (TTL) and time-to-idle (TTI) of specific cache regions. For example, you might want cached Account resources to expire quickly, but cached Directory resources to stick around longer.</p>
<p>For any regions that are not specifically configured, the SDK will use default time-to-live and time-to-idle values.</p>
<p>See <a class="reference internal" href="#caching-config"><span class="std std-ref">Cache Manager</span></a> in the Configuration Reference to understand how to set these configuration values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The PHP SDK follows PSR-6 caching.  By default, the SDK ships with <code class="docutils literal"><span class="pre">Array</span></code>, <code class="docutils literal"><span class="pre">Redis</span></code>, <code class="docutils literal"><span class="pre">Memcached</span></code>, and <code class="docutils literal"><span class="pre">Null</span></code> caching.
Because of the implementation of PSR-6 in the SDK, you are able to use any caching that follows the standard that can be found
on the <a class="reference external" href="http://php-cache.readthedocs.io/en/latest/">PHP Cache Documentation</a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, the PHP SDK uses array caching.  Because of this, the cache is cleared on each page request.</p>
</div>
<p>The caching system in the PHP SDK has a set of options that can be passed into the <code class="docutils literal"><span class="pre">Client</span></code> resource caching manager options.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$cacheManagerOptions</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;cachemanager&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Array&#39;</span><span class="p">,</span> <span class="c1">//Array, Memcached, Redis, Null, or the full namespaced CacheManager instance</span>
  <span class="s1">&#39;memcached&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="k">array</span><span class="p">(</span><span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">11211</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">),</span>
  <span class="p">),</span>
  <span class="s1">&#39;redis&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
      <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">6379</span><span class="p">,</span>
      <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="k">NULL</span>
  <span class="p">),</span>
  <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span> <span class="c1">// This value is set in minutes</span>
  <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span> <span class="c1">// This value is set in minutes</span>
  <span class="s1">&#39;regions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;accounts&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
         <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
      <span class="p">),</span>
     <span class="s1">&#39;applications&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
         <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
      <span class="p">),</span>
     <span class="s1">&#39;directories&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
         <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
      <span class="p">),</span>
     <span class="s1">&#39;groups&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
         <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
      <span class="p">),</span>
     <span class="s1">&#39;tenants&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
         <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
      <span class="p">),</span>

   <span class="p">)</span>
<span class="p">);</span>

<span class="nx">\Stormpath\Client</span><span class="o">::</span><span class="nv">$cacheManagerOptions</span> <span class="o">=</span> <span class="nv">$cacheManagerOptions</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="memcached">
<h3>Memcached<a class="headerlink" href="#memcached" title="Permalink to this headline">¶</a></h3>
<p>The <cite>MemcachedCacheManager</cite> provides a cache plugin that works with Memcached.</p>
<p>To use this caching method in your application, initialize the <code class="docutils literal"><span class="pre">MemcachedCachedManager</span></code> in your <code class="docutils literal"><span class="pre">ClientBuilder</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setCacheManager</span><span class="p">(</span><span class="s1">&#39;Memcached&#39;</span><span class="p">)</span> <span class="c1">//setting this will ignore the &#39;cachemanager&#39; in options array</span>
    <span class="o">-&gt;</span><span class="na">setCacheManagerOptions</span><span class="p">(</span><span class="nv">$cacheManagerOptions</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="redis">
<h3>Redis<a class="headerlink" href="#redis" title="Permalink to this headline">¶</a></h3>
<p>The <cite>RedisCacheManager</cite> provides a cache plugin that works with Redis.</p>
<p>To use this caching method in your application, initialize the <code class="docutils literal"><span class="pre">RedisCachedManager</span></code> in your <code class="docutils literal"><span class="pre">ClientBuilder</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setCacheManager</span><span class="p">(</span><span class="s1">&#39;Redis&#39;</span><span class="p">)</span> <span class="c1">//setting this will ignore the &#39;cachemanager&#39; in options array</span>
    <span class="o">-&gt;</span><span class="na">setCacheManagerOptions</span><span class="p">(</span><span class="nv">$cacheManagerOptions</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="other-caches">
<h3>Other Caches<a class="headerlink" href="#other-caches" title="Permalink to this headline">¶</a></h3>
<p>The Stormpath SDK is designed with a modular plugin architecture, so you can plug in other cache technologies as well. Feel free to reach out to us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a> if you need help with a particular cache technology.</p>
</div>
</div>
<div class="section" id="using-a-different-environment">
<span id="environments"></span><h2>3. Using a Different Environment<a class="headerlink" href="#using-a-different-environment" title="Permalink to this headline">¶</a></h2>
<p>By default, the Stormpath SDK connects to the Stormpath API Public Cloud.</p>
<p>If you have a Stormpath Enterprise or Private Deployment, you&#8217;ll need to change this base URL before using the Stormpath SDK. See <a class="reference internal" href="#base-url"><span class="std std-ref">Base URL</span></a> in the Configuration Reference for examples of how to set this value.</p>
</div>
<div class="section" id="configuration-sources">
<span id="config-sources"></span><h2>4. Configuration Sources<a class="headerlink" href="#configuration-sources" title="Permalink to this headline">¶</a></h2>
<p>There are multiple ways to provide the SDK configuration settings. You can load values from local environment variables, or a YAML/JSON configuration file. You can also set them directly in your code.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">We recommend using environment variables or a configuration file in production, especially for your Stormpath API credentials. This makes it easy to manage and update these values as needed. Configuration via code is useful during development.</p>
</div>
<div class="section" id="environment-variables">
<span id="env-vars"></span><h3>4.1. Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
<p>Configuration options can be set in environment variables by formatting the configuration key with underscores. For example, <code class="docutils literal"><span class="pre">stormpath.client.apiKey.id</span></code> becomes <code class="docutils literal"><span class="pre">STORMPATH_CLIENT_APIKEY_ID</span></code>.</p>
<p>In a bash-like shell, you can set environment variables by running these commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">STORMPATH_CLIENT_APIKEY_ID</span><span class="o">=</span>your_id_here
<span class="nb">export</span> <span class="nv">STORMPATH_CLIENT_APIKEY_SECRET</span><span class="o">=</span>your_secret_here
</pre></div>
</div>
<p>On Windows, the commands are:</p>
<div class="highlight-powershell"><div class="highlight"><pre><span></span><span class="n">setx</span> <span class="n">STORMPATH_CLIENT_APIKEY_ID</span> <span class="n">your_id_here</span>
<span class="n">setx</span> <span class="n">STORMPATH_CLIENT_APIKEY_SECRET</span> <span class="n">your_secret_here</span>
</pre></div>
</div>
<p>Any configuration option can be set using environment variables. The above are just examples! The <a class="reference internal" href="#config-reference"><span class="std std-ref">Configuration Reference</span></a> covers each option in detail.</p>
</div>
<div class="section" id="yaml-json-markup-file">
<span id="markup-file"></span><h3>4.2. YAML/JSON Markup File<a class="headerlink" href="#yaml-json-markup-file" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Currently, the PHP SDK does not allow for configuration through this file. For updates, you can follow <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-php/issues/153">ticket #153</a> on Github.</p>
<p class="last">In the meantime, please use the <code class="docutils literal"><span class="pre">ClientBuilder</span></code> class to build a client with all configuration you need.</p>
</div>
</div>
<div class="section" id="api-credentials-file">
<span id="id2"></span><h3>4.3. API Credentials File<a class="headerlink" href="#api-credentials-file" title="Permalink to this headline">¶</a></h3>
<p>The API Key ID and Secret can be provided by placing the <code class="docutils literal"><span class="pre">apiKey.properties</span></code> file generated by the <a class="reference external" href="https://api.stormpath.com/login">Stormpath Admin Console</a> file in one of these locations:</p>
<ul class="simple">
<li><strong>Hidden .stormpath Directory</strong></li>
</ul>
<p>On Unix-like machines, the path <code class="docutils literal"><span class="pre">~/.stormpath/</span></code> is searched.</p>
<p>On Windows machines, the path is <code class="docutils literal"><span class="pre">%HOMEDRIVE%%HOMEPATH%%\.stormpath</span></code>. This is typically resolved to <code class="docutils literal"><span class="pre">C:\Users\&lt;username&gt;\.stormpath</span></code>.</p>
<ul class="simple">
<li><strong>Application Base Directory</strong></li>
</ul>
<p>The application&#8217;s base or content root directory.</p>
<p>If you don&#8217;t opt to store the Stormpath API credentials in environment variables, this functionality makes it easy to download the <code class="docutils literal"><span class="pre">apiKey.properties</span></code> file from the Admin Console and drop it into your application.</p>
</div>
<div class="section" id="inline-code-configuration">
<span id="id3"></span><h3>4.4. Inline Code Configuration<a class="headerlink" href="#inline-code-configuration" title="Permalink to this headline">¶</a></h3>
<p>You can also configure the SDK directly in code, by building a client with the <code class="docutils literal"><span class="pre">ClientBuilder</span></code> and passing the appropriate values.</p>
<p>For example, to set the API Key and Secret via code:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$apiKeyProperties</span> <span class="o">=</span> <span class="s2">&quot;apiKey.id=APIKEYID</span><span class="se">\n</span><span class="s2">apiKey.secret=APIKEYSECRET&quot;</span><span class="p">;</span>
<span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setApiKeyProperties</span><span class="p">(</span><span class="nv">$apiKeyProperties</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">setApiKeyProperties()</span></code> method will accept any string, however you need to pass a valid ini string.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Values set explicitly via code have the highest precedence. In other words, if you have existing configuration values in environment variables or a markup file, values you set in your code will override them.</p>
</div>
</div>
</div>
<div class="section" id="configuration-reference">
<span id="config-reference"></span><h2>5. Configuration Reference<a class="headerlink" href="#configuration-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="api-credentials">
<span id="api-keys"></span><h3>API Credentials<a class="headerlink" href="#api-credentials" title="Permalink to this headline">¶</a></h3>
<p>Configuration keys:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">stormpath.client.apiKey.id</span></code> - The Stormpath API Key ID</li>
<li><code class="docutils literal"><span class="pre">stormpath.client.apiKey.secret</span></code> - The Stormpath API Key Secret</li>
<li><code class="docutils literal"><span class="pre">stormpath.client.apiKey.file</span></code> - (Optional) The path to an <code class="docutils literal"><span class="pre">apiKey.properties</span></code> file, if the file is not in one of the standard locations that are searched for <a class="reference internal" href="#api-credentials-file"><span class="std std-ref">API Credentials files</span></a>.</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can find the API Key and Secret values or download a credentials file via the <a class="reference external" href="https://api.stormpath.com/login">Stormpath Admin Console</a>.</p>
</div>
<p>Bash-like shell:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">STORMPATH_CLIENT_APIKEY_ID</span><span class="o">=</span>your_id_here
<span class="nb">export</span> <span class="nv">STORMPATH_CLIENT_APIKEY_SECRET</span><span class="o">=</span>your_secret_here
</pre></div>
</div>
<p>Windows:</p>
<div class="highlight-powershell"><div class="highlight"><pre><span></span><span class="n">setx</span> <span class="n">STORMPATH_CLIENT_APIKEY_ID</span> <span class="n">your_id_here</span>
<span class="n">setx</span> <span class="n">STORMPATH_CLIENT_APIKEY_SECRET</span> <span class="n">your_secret_here</span>
</pre></div>
</div>
<p>You can inline the settings for API Credentials with the following:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$apiKeyProperties</span> <span class="o">=</span> <span class="s2">&quot;apiKey.id=APIKEYID</span><span class="se">\n</span><span class="s2">apiKey.secret=APIKEYSECRET&quot;</span><span class="p">;</span>
<span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setApiKeyProperties</span><span class="p">(</span><span class="nv">$apiKeyProperties</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">setApiKeyProperties()</span></code> method will accept any string, however you need to pass a valid ini string.</p>
</div>
</div>
<div class="section" id="base-url">
<span id="id5"></span><h3>Base URL<a class="headerlink" href="#base-url" title="Permalink to this headline">¶</a></h3>
<p>Default value: <code class="docutils literal"><span class="pre">https://api.stormpath.com/v1</span></code></p>
<p>This setting controls the URL that the SDK uses to connect to the Stormpath API. You won&#8217;t need to change this unless you are using a <a class="reference internal" href="#environments"><span class="std std-ref">different environment</span></a>.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$apiKeyProperties</span> <span class="o">=</span> <span class="s2">&quot;apiKey.id=APIKEYID</span><span class="se">\n</span><span class="s2">apiKey.secret=APIKEYSECRET&quot;</span><span class="p">;</span>
<span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span>
  <span class="o">-&gt;</span><span class="na">setBaseUrl</span><span class="p">(</span><span class="s1">&#39;https://enterprise.stormpath.io/v1&#39;</span><span class="p">)</span>
  <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="cache-manager">
<span id="caching-config"></span><h3>Cache Manager<a class="headerlink" href="#cache-manager" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The PHP SDK follows PSR-6 caching.  By default, the SDK ships with <code class="docutils literal"><span class="pre">Array</span></code>, <code class="docutils literal"><span class="pre">Redis</span></code>, <code class="docutils literal"><span class="pre">Memcached</span></code>, and <code class="docutils literal"><span class="pre">Null</span></code> caching.
Because of the implementation of PSR-6 in the SDK, you are able to use any caching that follows the standard that can be found
on the <a class="reference external" href="http://php-cache.readthedocs.io/en/latest/">PHP Cache Documentation</a>.</p>
</div>
<div class="section" id="id13">
<h4>Inline Code<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>To disable caching entirely:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">setCacheManager</span><span class="p">(</span><span class="s1">&#39;Null&#39;</span><span class="p">)</span> <span class="c1">//setting this will ignore the &#39;cachemanager&#39; in options array</span>
    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
<p>Or, to change the default TTL and TTI for cached resources and override the defaults for specific resources:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$cacheManagerOptions</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s1">&#39;cachemanager&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Array&#39;</span><span class="p">,</span> <span class="c1">//Array, Memcached, Redis, Null, or the full namespaced PSR6CacheManager instance</span>
  <span class="s1">&#39;memcached&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
  <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">11211</span><span class="p">,</span> <span class="s1">&#39;weight&#39;</span> <span class="o">=&gt;</span> <span class="mi">100</span><span class="p">),</span>
  <span class="p">),</span>
  <span class="s1">&#39;redis&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;host&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;port&#39;</span> <span class="o">=&gt;</span> <span class="mi">6379</span><span class="p">,</span>
    <span class="s1">&#39;password&#39;</span> <span class="o">=&gt;</span> <span class="k">NULL</span>
  <span class="p">),</span>
  <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span> <span class="c1">// This value is set in minutes</span>
  <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span><span class="p">,</span> <span class="c1">// This value is set in minutes</span>
  <span class="s1">&#39;regions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;accounts&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
      <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
    <span class="p">),</span>
    <span class="s1">&#39;applications&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
      <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
    <span class="p">),</span>
    <span class="s1">&#39;directories&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
      <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
    <span class="p">),</span>
    <span class="s1">&#39;groups&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
      <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
    <span class="p">),</span>
    <span class="s1">&#39;tenants&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;ttl&#39;</span> <span class="o">=&gt;</span> <span class="mi">60</span><span class="p">,</span>
      <span class="s1">&#39;tti&#39;</span> <span class="o">=&gt;</span> <span class="mi">120</span>
    <span class="p">),</span>
  <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span>
    <span class="o">-&gt;</span><span class="na">setCacheManagerOptions</span><span class="p">(</span><span class="nv">$cacheManagerOptions</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="authentication-scheme">
<h3>Authentication Scheme<a class="headerlink" href="#authentication-scheme" title="Permalink to this headline">¶</a></h3>
<p>Default value: <code class="docutils literal"><span class="pre">SAUTHC1</span></code></p>
<p>This setting allows you to change the authentication scheme used to communicate with the Stormpath API. The available options are <code class="docutils literal"><span class="pre">BASIC</span></code> and <code class="docutils literal"><span class="pre">SAUTHC1</span></code> (the default).</p>
<p>For stronger security, <code class="docutils literal"><span class="pre">SAUTHC1</span></code> should be used unless you are in an environment that does not support HTTP digest authentication.</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="nv">$builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Stormpath\ClientBuilder</span><span class="p">();</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$builder</span>
    <span class="o">-&gt;</span><span class="na">setAuthenticationScheme</span><span class="p">(</span><span class="nx">\Stormpath\Stormpath</span><span class="o">::</span><span class="na">BASIC_AUTHENTICATION_SCHEME</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="errors.html" class="btn btn-neutral float-right" title="Stormpath Error Codes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="reference.html" class="btn btn-neutral" title="REST API Reference" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Stormpath, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/javascript_for_java.js"></script>
      <script type="text/javascript" src="_static/langpicker.js"></script>
      <script type="text/javascript" src="_static/scrollspy.js"></script>
      <script type="text/javascript" src="_static/gumshoe.min.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>